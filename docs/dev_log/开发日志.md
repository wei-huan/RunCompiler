# 开发日志

理想
7-2 -- 7-3 做好符号表
7-3 -- 7-5 生成 LLVM IR
7-5 -- 7-10 跑起来

现实
7-2 搞好 Log
7-2 -- 7-4 做好符号表
7-4 -- 7-14 生成 LLVM IR
7-14 -- 7-17 完成 mem2reg 和

空了一个多月
现在目标是完成后端能完成一个汇编代码的生成

11月3号完成MacOS环境适配


### 11月10
正式开工
问题：发现功能测试52_scope.sy有大问题，无法支持返回分支内正确返回(return), 可能也无法支持多return的函数

52_scope 59_sort_test5 61_sort_test7 62_percolation 66_exgcd 75_max_flow 77_substr

### 11月13日
找到解决方案：多return需要在进入函数后分配一个返回变量，多返回分支就把返回值写入返回变量然后再跳转到一个地方统一返回，类似clang llvm

新问题：不支持多层循环，需要改进

### 11月20日
改进精简了分支逻辑，减少无效变量和无效操作

### 11月21日
56_sort_test2.sy 57_sort_test3.sy .. 发现有bug, 是在LVal中
61_sort_test7.sy 发现有bug, 是出现在打印代码后
```ibc++abi: terminating with uncaught exception of type std::bad_optional_access: bad_optional_access```
改进精简了循环的分支逻辑，减少无效变量和无效操作


### 11月28日
添加日志输出重定向和输入设定等级

### 11月29日
添加自动化测试脚本方便测试
改掉嵌套内返回逻辑, 完成一半, 还差分支语句中的多条出口冲突

### 11月30日
嵌套内返回逻辑完成
添加循环内直接返回用例
添加sy转c文件脚本

### 12月1日
添加库函数putch getch这些
添加遍历遍历文件夹的循环

### 12月2日
修改11月21日发现的bug

### 12月3日


添加多层循环测试用例，包括continue break return
